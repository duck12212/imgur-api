#summary Image Uploading API
#labels Featured,Phase-Implementation

=Image Uploading=

The upload API is using the REST standard, and can be found here: http://imgur.com/api/upload/.

==Details==

*URL:* http://imgur.com/api/upload

*Method:* POST (HTTP)

===Formats===
  XML : http://imgur.com/api/upload.xml (default)
  JSON : http://imgur.com/api/upload.json

==Parameters=
_Must be sent using POST._
  * 'image' - A binary image file or a URL.
  * 'key'   - Your registered developer API key. Click [http://imgur.com/register/api.php here] to register for a key.

==Implementation==
Use [http://curl.haxx.se/ cURL] to send the POST data to Imgur. cURL libraries are available for most languages and are very simple to use.

==Limitations==
The upload API has a daily and hourly upload limit for any given IP address. A single IP address is able to upload 50 images an hour and 200 images a day. For a possible lift or extension of this limit, please contact Alan at: alan@imgur.com.

==Sample Code==
_If you would like to add a language to this section, please email your sample code to Alan at: alan@imgur.com._

*cURL Command Line*
{{{
curl -F "image=@file.png" -F "key=YOUR_API_KEY" http://imgur.com/api/upload/
}}}
{{{
curl -d "image=http://example.com/example.jpg" -d "key=YOUR_API_KEY" http://imgur.com/api/upload/
}}}

*Python*
{{{
#!/usr/bin/python

import pycurl

c = pycurl.Curl()
values = [
          ("key", "YOUR_API_KEY"),
          ("image", (c.FORM_FILE, "file.png"))]
# OR:     ("image", "http://example.com/example.jpg"))]

c.setopt(c.URL, "http://imgur.com/api/upload/")
c.setopt(c.HTTPPOST, values)

c.perform()
c.close()
}}}

==Sample Response==
*XML*
{{{
<?xml version="1.0" encoding="utf-8"?>
<rsp stat="ok">
	<image_hash>cxmHM</image_hash>
	<delete_hash>NNy6VNpiAA</delete_hash>
	<original_image>http://imgur.com/cxmHM.png</original_image>
	<large_thumbnail>http://imgur.com/cxmHMl.png</large_thumbnail>
	<small_thumbnail>http://imgur.com/cxmHMl.png</small_thumbnail>
	<imgur_page>http://imgur.com/cxmHM</imgur_page>
	<delete_page>http://imgur.com/delete/NNy6VNpiAA</delete_page>
</rsp>
}}}

*JSON*
{{{
Coming soon.
}}}

===Errors===

*XML*
{{{
<?xml version="1.0" encoding="UTF-8"?>
<rsp stat="fail">
<err code="1004" msg="Invalid API Key" />
</rsp>
}}}

*JSON*
{{{
{
	"rsp": {
		"stat": "ok", 
		"image": {
			"image_hash": "mM84h", 
			"delete_hash": "CZoRTG208s", 
			"original_image": "http://imgur.com/mM84h.png", 
			"large_thumbnail": "http://imgur.com/mM84hl.png", 
			"small_thumbnail": "http://imgur.com/mM84hl.png", 
			"imgur_page": "http://imgur.com/mM84h", 
			"delete_page": "http://imgur.com/delete/CZoRTG208s"
		}
	}
}
}}}

==Possible Errors==
|| *Code* || *Message* ||
|| 1000 || No image selected ||
|| 1001 || Image failed to upload ||
|| 1002 || Image larger than 10MB ||
|| 1003 || Invalid image type ||
|| 1004 || Invalid API Key ||
|| 1005 || Upload failed during process ||
|| 1006 || Upload failed during the copy process ||
|| 1007 || Upload failed during thumbnail process ||
|| 1008 || Upload limit reached ||
|| 1009 || Animated GIF is larger than 2MB ||
|| 1010 || Animated PNG is larger than 2MB ||
|| 1011 || Invalid URL ||
|| 1012 || Could not download the image from that URL ||
|| 1013 || Invalid Image. Not a URL or binary file ||